{"ast":null,"code":"// Type Definitions\n\n// Exported Funcitons\n\nexport const getPreviousPlayers = results => {\n  const previousPlayers = results.flatMap(x => x.players);\n  return [...new Set(previousPlayers)].sort((a, b) => a.localeCompare(b));\n};\nexport const getLeaderboard = results => {\n  const players = getPreviousPlayers(results);\n  return players.map(x => getLeaderboardEntryForPlayer(results, x)).sort(\n  // (a, b) => b.avg - a.avg\n\n  // i-o-g\n  (a, b) => b.avg * 1000 + b.wins + b.losses - (a.avg * 1000 + a.wins + a.losses));\n};\n\n// internal functions\n\nconst getLeaderboardEntryForPlayer = (results, player) => {\n  const playerWins = results.filter(x => x.winner === player).length;\n  const playerGames = results.filter(x => x.players.some(y => y === player)).length;\n  return {\n    wins: playerWins,\n    losses: playerGames - playerWins,\n    avg: playerGames > 0 ? playerWins / playerGames : 0,\n    name: player\n  };\n};","map":{"version":3,"names":["getPreviousPlayers","results","previousPlayers","flatMap","x","players","Set","sort","a","b","localeCompare","getLeaderboard","map","getLeaderboardEntryForPlayer","avg","wins","losses","player","playerWins","filter","winner","length","playerGames","some","y","name"],"sources":["C:/Users/Melisa Soldner/OneDrive - Madison College/Documents/GitHub/2024-spring-adf-fe/tca-trash-pandas/src/GameResults.ts"],"sourcesContent":["// Type Definitions\r\n\r\nexport type GameResult = {\r\n    winner: string;\r\n    players: string[];\r\n};\r\n\r\nexport type LeaderboardEntry = {\r\n    wins: number;\r\n    losses: number;\r\n    avg: number;\r\n    name: string;\r\n};\r\n\r\n// Exported Funcitons\r\n\r\nexport const getPreviousPlayers = (results: GameResult[]) => {\r\n\r\n    const previousPlayers = results.flatMap(\r\n        x => x.players\r\n    );\r\n\r\n    return [\r\n        ...new Set(previousPlayers)\r\n    ].sort(\r\n        (a, b) => a.localeCompare(b)\r\n    );\r\n\r\n};\r\n\r\n\r\nexport const getLeaderboard = (results: GameResult[]): LeaderboardEntry[] => {\r\n\r\n    const players = getPreviousPlayers(results);\r\n\r\n    return players.map(\r\n        x => getLeaderboardEntryForPlayer(results, x)\r\n    ).sort(\r\n        // (a, b) => b.avg - a.avg\r\n\r\n        // i-o-g\r\n        (a, b) => (b.avg * 1000 + b.wins + b.losses) - (a.avg * 1000 + a.wins + a.losses)\r\n    );\r\n};\r\n\r\n// internal functions\r\n\r\nconst getLeaderboardEntryForPlayer = (results: GameResult[], player: string): LeaderboardEntry => {\r\n\r\n    const playerWins = results.filter(x => x.winner === player).length;\r\n    const playerGames = results.filter(\r\n        x => x.players.some(\r\n            y => y === player\r\n        )\r\n    ).length;\r\n\r\n    return {\r\n        wins: playerWins\r\n        , losses: playerGames - playerWins\r\n\r\n        , avg: playerGames > 0\r\n            ? playerWins / playerGames\r\n            : 0\r\n\r\n        , name: player\r\n    };\r\n};"],"mappings":"AAAA;;AAcA;;AAEA,OAAO,MAAMA,kBAAkB,GAAIC,OAAqB,IAAK;EAEzD,MAAMC,eAAe,GAAGD,OAAO,CAACE,OAAO,CACnCC,CAAC,IAAIA,CAAC,CAACC,OACX,CAAC;EAED,OAAO,CACH,GAAG,IAAIC,GAAG,CAACJ,eAAe,CAAC,CAC9B,CAACK,IAAI,CACF,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,aAAa,CAACD,CAAC,CAC/B,CAAC;AAEL,CAAC;AAGD,OAAO,MAAME,cAAc,GAAIV,OAAqB,IAAyB;EAEzE,MAAMI,OAAO,GAAGL,kBAAkB,CAACC,OAAO,CAAC;EAE3C,OAAOI,OAAO,CAACO,GAAG,CACdR,CAAC,IAAIS,4BAA4B,CAACZ,OAAO,EAAEG,CAAC,CAChD,CAAC,CAACG,IAAI;EACF;;EAEA;EACA,CAACC,CAAC,EAAEC,CAAC,KAAMA,CAAC,CAACK,GAAG,GAAG,IAAI,GAAGL,CAAC,CAACM,IAAI,GAAGN,CAAC,CAACO,MAAM,IAAKR,CAAC,CAACM,GAAG,GAAG,IAAI,GAAGN,CAAC,CAACO,IAAI,GAAGP,CAAC,CAACQ,MAAM,CACpF,CAAC;AACL,CAAC;;AAED;;AAEA,MAAMH,4BAA4B,GAAGA,CAACZ,OAAqB,EAAEgB,MAAc,KAAuB;EAE9F,MAAMC,UAAU,GAAGjB,OAAO,CAACkB,MAAM,CAACf,CAAC,IAAIA,CAAC,CAACgB,MAAM,KAAKH,MAAM,CAAC,CAACI,MAAM;EAClE,MAAMC,WAAW,GAAGrB,OAAO,CAACkB,MAAM,CAC9Bf,CAAC,IAAIA,CAAC,CAACC,OAAO,CAACkB,IAAI,CACfC,CAAC,IAAIA,CAAC,KAAKP,MACf,CACJ,CAAC,CAACI,MAAM;EAER,OAAO;IACHN,IAAI,EAAEG,UAAU;IACdF,MAAM,EAAEM,WAAW,GAAGJ,UAAU;IAEhCJ,GAAG,EAAEQ,WAAW,GAAG,CAAC,GAChBJ,UAAU,GAAGI,WAAW,GACxB,CAAC;IAELG,IAAI,EAAER;EACZ,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}